{% extends 'base.html' %}
{% block content %}
<section class="text-neutral-900">
  <div class="mx-auto px-4 py-6">

    <h1 class="text-2xl md:text-3xl font-primary mb-2">{{ title }}</h1>
    <p class="text-neutral-500 text-sm mb-6">Asigne un responsable para la ejecución de la ODT</p>

    <!-- Info de la ODT -->
    <div class="rounded-2xl bg-blue-50 border border-blue-200 p-4 mb-6">
      <p class="text-sm font-semibold text-blue-900">ODT: {{ odt.titulo }}</p>
      <p class="text-xs text-blue-700">Equipo: {{ odt.maquinaria.nombre }} ({{ odt.maquinaria.codigo }})</p>
    </div>

    <form method="post" class="space-y-6">
      {% csrf_token %}

      <div class="rounded-2xl bg-neutral-100 border border-neutral-200 p-5 grid grid-cols-1 md:grid-cols-2 gap-4">

        <div class="md:col-span-2">
          <label class="block text-sm font-medium mb-1">Responsable de Ejecución</label>
          {{ form.responsable_ejecucion }}
          {% for e in form.responsable_ejecucion.errors %}
          <p class="text-sm text-red-600 mt-1">{{ e }}</p>
          {% endfor %}
        </div>

        <div>
          <label class="block text-sm font-medium mb-1">Tipo de Trabajo</label>
          {{ form.tipo_trabajo }}
          {% for e in form.tipo_trabajo.errors %}
          <p class="text-sm text-red-600 mt-1">{{ e }}</p>
          {% endfor %}
        </div>

        <div>
          <label class="block text-sm font-medium mb-1">Fecha/Hora Programada</label>
          {{ form.fecha_programada }}
          {% for e in form.fecha_programada.errors %}
          <p class="text-sm text-red-600 mt-1">{{ e }}</p>
          {% endfor %}
        </div>

      </div>

      <div class="flex items-center justify-end gap-3">
        <a href="{% url 'odt_detail' odt.pk %}"
           class="h-11 px-5 rounded-xl border border-neutral-300 inline-flex items-center hover:bg-neutral-100">
          Cancelar
        </a>

        <button type="submit"
                class="h-11 px-6 rounded-xl bg-purple-600 text-white font-semibold hover:bg-purple-700">
          Asignar Responsable
        </button>
      </div>

    </form>

  </div>
</section>
{% endblock %}