{% extends 'base.html' %}
{% block content %}
<section class="text-neutral-900">
  <div class="mx-auto px-4 py-6">

    <div class="flex items-center justify-between mb-6">
      <div>
        <h1 class="text-2xl md:text-3xl font-primary">{{ title }}</h1>
        <p class="text-neutral-500 text-sm">Listado de equipos registrados</p>
      </div>

      <a href="{% url 'maquinaria_create' %}"
         class="h-11 px-5 rounded-xl bg-green-600 text-white font-semibold hover:opacity-90">
        Nuevo equipo
      </a>
    </div>

    <div class="overflow-x-auto">
      <table class="min-w-full bg-neutral-100 border border-neutral-200 rounded-xl overflow-hidden">
        <thead class="bg-slate-900 text-neutral-100">
          <tr class="text-left text-sm">
            <th class="px-4 py-3">Nombre / Modelo</th>
            <th class="px-4 py-3">Código</th>
            <th class="px-4 py-3">Descripción</th>
            <th class="px-4 py-3">Estado</th>
            <th class="px-4 py-3 text-center">Acciones</th>
          </tr>
        </thead>

        <tbody class="divide-y divide-neutral-50">
          {% for m in maquinas %}
          <tr class="hover:bg-neutral-200 text-sm">
            <td class="px-4 py-3 font-semibold">{{ m.nombre }}</td>
            <td class="px-4 py-3">{{ m.codigo }}</td>
            <td class="px-4 py-3">{{ m.descripcion|default:"—" }}</td>

            <td class="px-4 py-3">
              {% if m.activo %}
                <span class="inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold bg-green-50 text-green-700 border border-green-200">
                  <span class="h-1.5 w-1.5 rounded-full bg-green-500"></span> Activo
                </span>
              {% else %}
                <span class="inline-flex items-center gap-2 px-2.5 py-1 rounded-full text-xs font-semibold bg-red-50 text-red-700 border border-red-200">
                  <span class="h-1.5 w-1.5 rounded-full bg-red-500"></span> Inactivo
                </span>
              {% endif %}
            </td>

            <td class="px-4 py-3">
              <div class="flex items-center justify-end gap-2">
                
                <a href="{% url 'maquinaria_edit' m.pk %}"
                   class="inline-flex items-center h-9 px-3 rounded-lg bg-amber-400 text-white hover:bg-amber-500 text-sm">
                  Editar
                </a>

                <a href="{% url 'maquinaria_toggle' m.pk %}"
                   class="inline-flex items-center h-9 px-3 rounded-lg text-sm 
                          {% if m.activo %} bg-red-500 hover:bg-red-600 text-white
                          {% else %} bg-green-600 hover:bg-green-700 text-white {% endif %}">
                  {% if m.activo %} Deshabilitar {% else %} Activar {% endif %}
                </a>

              </div>
            </td>
          </tr>

          {% empty %}
          <tr>
            <td colspan="5" class="px-4 py-8 text-center text-neutral-500">
              No hay equipos registrados.
            </td>
          </tr>
          {% endfor %}
        </tbody>

      </table>
    </div>

  </div>
</section>
{% endblock %}
